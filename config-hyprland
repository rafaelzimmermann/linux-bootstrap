#!/bin/bash
set -e

source "$(dirname "$0")/lib/pkg.sh"

if [ "$OS" != "arch" ]; then
    echo "Hyprland configuration is only supported on Arch Linux."
    exit 1
fi

pkg_install hyprland hypridle hyprlock hyprpaper \
    xdg-desktop-portal-hyprland \
    blueman playerctl brightnessctl \
    dolphin

# hyprlauncher is AUR-only
yay -S --needed --noconfirm hyprlauncher

mkdir -p "$HOME/.config/hypr"
cp -r "$(dirname "$0")/config/dotconfig/hypr/." "$HOME/.config/hypr/"

bash "$(dirname "$0")/config-waybar"
